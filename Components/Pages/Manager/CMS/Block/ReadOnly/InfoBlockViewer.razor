@using Microsoft.AspNetCore.Components

<div class="info-block-viewer alert @GetAlertClass()">
    @if (!string.IsNullOrEmpty(Block.Title))
    {
        <h5 class="alert-heading">
            <i class="bi bi-@GetIconClass() me-2"></i>
            @Block.Title
        </h5>
    }
    
    @if (!string.IsNullOrEmpty(Block.Message))
    {
        <div class="mb-0">
            @Block.Message
        </div>
    }
</div>

@code {
    [Parameter]
    public CourBuilder.CoursBlock Block { get; set; } = default!;
    
    [Parameter]
    public bool IsReadOnly { get; set; } = true;

    private string GetAlertClass()
    {
        return Block.Text?.ToLower() switch
        {
            "warning" => "alert-warning",
            "success" => "alert-success",
            "danger" => "alert-danger",
            _ => "alert-info"
        };
    }

    private string GetIconClass()
    {
        return Block.Text?.ToLower() switch
        {
            "warning" => "exclamation-triangle",
            "success" => "check-circle",
            "danger" => "x-circle",
            _ => "info-circle"
        };
    }
}