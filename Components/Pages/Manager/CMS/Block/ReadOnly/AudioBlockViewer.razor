@using Microsoft.AspNetCore.Components

<div>
    @if (!string.IsNullOrEmpty(Block.Title))
    {
        <h4 class="block-title">@Block.Title</h4>
    }
    @if (!string.IsNullOrEmpty(GetAudioUrl()))
    {
        <audio controls class="w-100">
            <source src="@GetAudioUrl()" type="audio/mpeg">
            Votre navigateur ne supporte pas les fichiers audio HTML5.
        </audio>
    }
    @if (!string.IsNullOrEmpty(Block.Text))
    {
        <div class="block-content mt-2">
            @((MarkupString)Block.Text)
        </div>
    }
</div>

@code {
    [Parameter]
    public CourBuilder.CoursBlock Block { get; set; } = default!;

    [Parameter]
    public bool IsReadOnly { get; set; } = true;

    private string GetAudioUrl()
    {
        return Block.AudioUrl ?? string.Empty;
    }
}
